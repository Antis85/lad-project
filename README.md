[![Build status](https://ci.appveyor.com/api/projects/status/kwpwvh0hgoie81mc/branch/main?svg=true)](https://ci.appveyor.com/project/Antis85/lad-project/branch/main)

# lad-project

## Интернет-магазин обуви "Bosa noga"

## Запуск приложения
Для запуска приложения нужно перейти по ссылке: https://antis85.github.io/lad-project

## Технологии
+ Frontend: Html, CSS/Bootstrap, JS/React, Redux+RTK
+ Backend: Nodejs
+ CI/CD: Appveyor+GitHub Pages+Heroku

## Работа с проектом

1. Для начала работы с проектом нужно скопировать репозитории клиентской части приложения ([репо](https://github.com/Antis85/lad-project)) и сервера ([репо](https://github.com/Antis85/ra-diplom-server)) на ПК и затем установить зависимости

    ```
    yarn install    
    ```
2. Для запуска сервера на ПК нужно предварительно скорректировать в репо *ra-diplom-server*  файл *server.js* - в строке 45 должно быть указано
    ```
    app.use(cors());   
    ```
    затем запустить сервер локально командой:
    ```
    yarn watch   
    ```
3. Далее можно запускать клиент (репо *lad-project*), предварительно установив  следующее значение адреса для отправки запросов на сервер в строке 23 файла *api/index.js*
    ```
    const url = process.env.REACT_APP_API_URL_DEV;   
    ```
    и выполнить команду:
    ```
    yarn start   
    ```
4. Приложение будет доступно в браузере по адресу http://localhost:3000/

## Код
1. Основной компонент приложения - [App](./src/App.js) - навигация по страницам и глобальное состояние корзины
2. Компоненты страниц приложения - [Components](./src/components), [Pages](./src/pages)
3. Кастомный хук для работы с глобальным состоянием корзины - [useStorage](./src/hooks/useStorage.js)
4. Управление состоянием приложения (store, reducers, actions) - [Redux Toolkit](./src/store)
5. Взаимодействие с сервером через Redux Thunk middleware  - [API](./src/api/index.js)

    Реализация API:

    URL = process.env.REACT_APP_API_URL_BUILD | process.env.REACT_APP_API_URL_DEV
    GET 
    + *URL/api/top-sales* - получение данных для компонента "Хиты продаж";
    + *URL/api/categories* - получение данных для категорий компонента "Каталог";
    + *URL/api/items* - получение данных для товаров из компонента "Каталог";
    + *URL/api/items?offset=6* - получение данных для загрузки следующих 6 товаров каталога;
    + *URL/api/items?categoryId=X* - получение данных для фильтрации товаров каталога по категориям;
    + *URL/api/items?q=<текст в строке поиска>* - получение данных для фильтрации товаров каталога по поисковому запросу;
    + *URL/api/items/:id* - получение данных для компонента добавления товара к заказу;
    POST
    + *URL/api/order* - отправка заказа на сервер;

## Описание
Приложение содержит следующие страницы:
1. Главная страница
    + *Открывается при первом запуске приложения*
    + *Содержит блоки "Хиты продаж" и "Каталог"*    
2. Каталог товаров
    + *Доступен как с главной страницы, так и при переходе через отдельный пункт меню*
    + *Позволяет осуществлять поиск товаров по ключевым словам(название, тип обуви, цвет и т.д.), включать фильтр по категории товара, переходить на страницу товара при нажатии кнопки "Заказать", отображать следующие 6 элементов каталога при нажатии кнопки "Загрузить ещё"*
3. О магазине
4. Контакты
5. Страница товара
    + *Отображается при нажатии кнопки "Заказать" в карточке товара*
    + ***Для добавления в корзину, нужно выбрать размер и количество товара, затем нажать кнопку "В корзину"***
6. Корзина
    + *Отображает товары, находящиеся в корзине, при нажатии кнопки "В корзину" на странице товара или при нажатии на иконку корзины в шапке страницы*
    + *Виджет корзины в шапке отображает количество позиций в корзине, одной позицией считается пара товар + размер*
    + *После успешного оформления заказа все данные корзины очищаются*
7. Страница 404
8. На всех страницах в шапке и футере присутствуют виджет поиска, виджет корзины, навигационное меню и баннер